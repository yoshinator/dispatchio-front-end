(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(63)},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),l=a.n(o),i=a(2),c=a(69),m=a(66),s=a(67),u=a(64),p=a(4),h=a(5),d=function(){function e(t){Object(p.a)(this,e),this.endpoint="https://dispatch-io.herokuapp.com/".concat(t),this.headers={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}return Object(h.a)(e,[{key:"getAll",value:function(){return fetch(this.endpoint,{headers:this.headers}).then(function(e){return e.json()})}},{key:"getSingle",value:function(e){return fetch("".concat(this.endpoint,"/").concat(e)).then(function(e){return e.json()})}},{key:"createItem",value:function(e){return fetch(this.endpoint,{method:"POST",headers:this.headers,body:JSON.stringify(e)})}},{key:"deleteItem",value:function(e){return fetch("".concat(this.endpoint,"/").concat(e),{method:"DELETE",header:this.headers}).then(function(e){return e.json()})}},{key:"updateItem",value:function(e,t){return fetch("".concat(this.endpoint,"/").concat(t),{method:"PATCH",headers:this.headers,body:JSON.stringify(e)})}}]),e}(),E=new d("api/v1/users/login"),b=new d("api/v1/users/current"),g=new d("api/v1/users"),f=function(e,t){return console.log(t),function(a){a(O());var n={user:{email:e,password:t}};E.createItem(n).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){localStorage.setItem("jwt",e.jwt),a(j(e.user))}).catch(function(e){return e.json().then(function(e){return a({type:"FAILED_LOGIN",payload:e.message})})})}},v=function(e){var t=e.user_type,a=e.f_name,n=e.l_name,r=e.email,o=e.phone,l=e.password,i=e.company_id,c=e.location_id;return function(e){e(O());var m={user:{user_type:t,f_name:a,l_name:n,email:r,phone:o,password:l,company_id:i,location_id:c}};g.createItem(m).then(function(e){if(e.ok)return e.json();throw e}).then(function(t){localStorage.setItem("jwt",t.jwt),e(j(t.user))}).catch(function(t){return t.json().then(function(t){return e({type:"FAILED_LOGIN",payload:t.message})})})}},y=function(e,t){return function(a){g.updateItem(e,t).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){a({type:"UPDATE_USER",payload:e})})}},C=function(){return function(e){e(O()),b.getAll().then(function(t){return e(j(t))})}},j=function(e){return{type:"SET_CURRENT_USER",payload:e}},_=function(){return{type:"LOG_OUT"}},O=function(){return{type:"AUTHENTICATING_USER"}};a(46);function T(e){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.a,{to:"#",onClick:function(){return e.handleLogout()}},"Log Out"))))}function w(e){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.a,{to:"/jobs"},"Jobs")),r.a.createElement("li",null,r.a.createElement(u.a,{to:"/teams"},"Teams")),r.a.createElement("li",null,r.a.createElement(u.a,{to:"/teammembers"},"Team Members")),r.a.createElement("li",null,r.a.createElement(u.a,{to:"/customers"},"Customers")),r.a.createElement("li",null,r.a.createElement(u.a,{to:"#",onClick:function(){return e.handleLogout()}},"Log Out"))))}var N=Object(i.b)(function(e){return{loginReducer:e.loginReducer}},function(e){return{logout:function(){e(_())}}})(function(e){var t=function(){window.localStorage.clear(),e.logout()};return e.loginReducer.loggedIn?r.a.createElement("header",null,r.a.createElement("h1",{className:"logo"},r.a.createElement(u.a,{to:"/"},"Dispatchio")),r.a.createElement("input",{type:"checkbox",className:"nav-toggle",id:"nav-toggle"}),"employee"===e.loginReducer.user.user_type?r.a.createElement(T,Object.assign({},e,{handleLogout:t})):r.a.createElement(w,Object.assign({},e,{handleLogout:t})),r.a.createElement("label",{htmlFor:"nav-toggle",className:"nav-toggle-label"},r.a.createElement("span",null)," ")):r.a.createElement("header",null,r.a.createElement("h1",{className:"logo"},"Dispatchio"),r.a.createElement("input",{type:"checkbox",className:"nav-toggle",id:"nav-toggle"}),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.a,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(u.a,{to:"/signup"},"Sign Up")))),r.a.createElement("label",{htmlFor:"nav-toggle",className:"nav-toggle-label"},r.a.createElement("span",null)))}),M=a(9),S=a(7),F=a(6),A=a(8),k=a(36);function I(){return r.a.createElement("div",{className:"card"},r.a.createElement("p",null,"Dispatchio is built for companies with a mobile workforce that need to dispatch teams and keep track of jobs. Dispatchio helps you locate your team members and get constant status updates about the jobs that they are on."),r.a.createElement("p",null,"Dispatchio also helps you manage your customers and keep a record of the jobs they have done. This is a pre beta release of Dispatchio that is totally free to use."),r.a.createElement("p",null,"Please beware that this product is in development and might not always be available. Also please be aware that while we don't intend on intentionally loosing data, because this product is in beta there is a possibility that you might loose your data if we have to update the product in the future. If this happens we will try to give you ample time to save your data or we will try to export your data for you. "),r.a.createElement("p",null,"As a beta user will have unlimitted access to dispatchio once it goes into production as a thank you for helping us test Dispatchio."))}var D=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={user_type:"",f_name:"",l_name:"",email:"",phone:"",password:"",location_id:1,pconfirm:""},a.passwordsMatch=function(){return!(!a.state.password===a.state.pconfirm||a.state.password.length<6)||(alert("Passwords must match and be atleast 6 characters"),!1)},a.handleSubmit=function(e){e.preventDefault(),a.passwordsMatch()&&a.props.createUser(a.state)},a.handleChange=function(e){console.log(e.target.value),a.setState(Object(M.a)({},e.target.name,e.target.value))},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.props.loggedIn?r.a.createElement(k.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"one"},r.a.createElement("label",{htmlFor:"sign-up-f-name"},"First Name"),r.a.createElement("input",{onChange:this.handleChange,type:"text",id:"sign-up-f-name",placeholder:"First ",name:"f_name",value:this.state.f_name}),r.a.createElement("label",{htmlFor:"sign-up-l-name"},"Last Name"),r.a.createElement("input",{onChange:this.handleChange,type:"text",id:"sign-up-l-name",placeholder:"Last ",name:"l_name",value:this.state.l_name}),r.a.createElement("label",{htmlFor:"sign-up-email"},"Email address"),r.a.createElement("input",{onChange:this.handleChange,type:"email",id:"sign-up-email","aria-describedby":"emailHelp",placeholder:"Enter email",name:"email",value:this.state.email}),r.a.createElement("label",{htmlFor:"input-password"},"Password"),r.a.createElement("input",{onChange:this.handleChange,type:"password",id:"input-password",placeholder:"Password",name:"password",value:this.state.password}),r.a.createElement("label",{htmlFor:"input-password"},"Password Confirmation"),r.a.createElement("input",{onChange:this.handleChange,type:"password",id:"input-password-confim",placeholder:"Confirm Password",name:"pconfirm",value:this.state.pconfirm}),r.a.createElement("label",null,"Pick a user type"),r.a.createElement("div",null,r.a.createElement("input",{onChange:this.handleChange,type:"radio",name:"user_type",id:"owner",value:"owner",checked:!0}),r.a.createElement("label",{htmlFor:"owner"},"Owner")),r.a.createElement("div",null,r.a.createElement("input",{onChange:this.handleChange,type:"radio",name:"user_type",id:"manager",value:"manager"}),r.a.createElement("label",{htmlFor:"manager"},"Manager")),r.a.createElement("div",null,r.a.createElement("input",{onChange:this.handleChange,type:"radio",name:"user_type",id:"employee",value:"employee"}),r.a.createElement("label",{htmlFor:"employee"},"Employee")),r.a.createElement("button",{className:"button",type:"submit"},"Sign Up")))),r.a.createElement(I,null))}}]),t}(n.Component);var R=Object(i.b)(function(e){var t=e.loginReducer;return{authenticatingUser:t.user,failedLogin:t.failedLogin,error:t.error,loggedIn:t.loggedIn}},function(e){return{createUser:function(t){e(v(t))}}})(D),L=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.login(a.state.email,a.state.password)},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleError=function(){return a.props.failedLogin?r.a.createElement("h3",null,a.props.error):null},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return console.log(this.props.loggedIn),this.props.loggedIn?r.a.createElement(k.a,{to:"/"}):r.a.createElement("div",{className:"container"},this.handleError(),r.a.createElement("div",{className:"form-container"},r.a.createElement("h2",null,"Login"),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"on"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{onChange:this.handleChange,type:"email",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,name:"email"}),r.a.createElement("label",{htmlFor:"input-password"},"Password"),r.a.createElement("input",{onChange:this.handleChange,type:"password",id:"input-password",placeholder:"Password",value:this.state.password,name:"password",autoComplete:"password"}),r.a.createElement("button",{className:"button",type:"submit"},"Login")))),r.a.createElement(I,null))}}]),t}(n.Component);var U=Object(i.b)(function(e){var t=e.loginReducer;return{authenticatingUser:t.user,failedLogin:t.failedLogin,error:t.error,loggedIn:t.loggedIn}},function(e){return{login:function(t,a){e(f(t,a))}}})(L),J=function(e){var t=function(t){function a(){return Object(p.a)(this,a),Object(S.a)(this,Object(F.a)(a).apply(this,arguments))}return Object(A.a)(a,t),Object(h.a)(a,[{key:"componentDidMount",value:function(){console.log("%c INSIDE COMPONENT DID MOUNT FOR AUTH HOC","color: purple"),localStorage.getItem("jwt")&&!this.props.loggedIn&&this.props.fetchCurrentUser()}},{key:"render",value:function(){return localStorage.getItem("jwt")&&this.props.loggedIn?r.a.createElement(e,null):!localStorage.getItem("jwt")||!this.props.authenticatingUser&&this.props.loggedIn?r.a.createElement(k.a,{to:"/login"}):r.a.createElement("div",{role:"status"},r.a.createElement("span",null,"Loading..."))}}]),a}(r.a.Component),a={fetchCurrentUser:C};return Object(i.b)(function(e){return{loggedIn:e.loginReducer.loggedIn,authenticatingUser:e.loginReducer.authenticatingUser}},a)(t)},P=new d("api/v1/jobs/user_date"),x=new d("api/v1/jobs/week"),G=new d("api/v1/jobs"),W=function(e,t){return function(a){a({type:"AUTHENTICATING USER"});var n={job:{schedule_date:e,user_id:t}};P.createItem(n).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){console.log(e),a({type:"GET_JOBS",payload:e})})}},H=function(e,t){return function(a){var n={job:{week:e,location_id:t}};x.createItem(n).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){a({type:"GET_WEEK",payload:e})})}},B=new d("api/v1/jobs"),z=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={status:"IR in route",description:""},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.getCurrentFormattedTime=function(){return(new Date).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:"true"})},a.success=function(e){var t=a.getCurrentFormattedTime(),n=e.coords,r={lat:n.latitude,lon:n.longitude,upat:t};a.props.updateUser(r,a.props.user.id);var o={status:a.state.status,description:a.props.job.description+"\n-------------------\n \nUpdated at: "+t+" \n  By: "+a.props.user.f_name+" "+a.props.user.l_name+a.state.description+"\n-------------------\n"};B.updateItem(o,a.props.job.id).then(function(e){e.ok?a.props.getJobs(a.props.job.schedule_date,a.props.user.id):console.error(e.error)})},a.handleSubmit=function(e){e.preventDefault(),navigator.geolocation.getCurrentPosition(a.success,a.error)},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"error",value:function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"one"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"jobStatusSelect"},"Change Status"),r.a.createElement("select",{onChange:this.handleChange,name:"status",id:"jobStatusSelect".concat(this.props.job.id)},r.a.createElement("option",null,"IR in route"),r.a.createElement("option",null,"IP in progress"),r.a.createElement("option",null,"DN done"),r.a.createElement("option",null,"FU follow up"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"add-to-description".concat(this.props.job.id)},"Add to description"),r.a.createElement("textarea",{onChange:this.handleChange,name:"description",id:"add-to-description".concat(this.props.job.id),rows:"2"})),r.a.createElement("button",{className:"button",type:"submit"},"Update Job"))))}}]),t}(n.Component),V=Object(i.b)(function(e){return{user:e.loginReducer.user}},function(e){return{getJobs:function(t,a){e(W(t,a))},updateUser:function(t,a){e(y(t,a))}}})(z),K=Object(i.b)(function(e){return{jobs:e.jobReducer.jobs}})(function(e){return e.jobs?e.jobs.map(function(e){return r.a.createElement("div",{className:"card",key:e.id},r.a.createElement("div",{id:"heading".concat(e.id)},r.a.createElement("h3",null,e.status," ",e.customer.name),r.a.createElement("a",{className:"button",href:"tel:+1".concat(e.customer.phone)},r.a.createElement("i",{className:"fas fa-mobile-alt"})," ",e.customer.phone),r.a.createElement("h3",null,e.city)),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://maps.google.com/maps?q=".concat(e.street_1,",").concat(e.street_2,",+").concat(e.city,",+").concat(e.state,"+").concat(e.zip)},"".concat(e.street_1," ").concat(e.street_2,", ").concat(e.city,", ").concat(e.state," ").concat(e.zip," "))),r.a.createElement("span",null,"Description: ",e.description),r.a.createElement(V,{job:e})))}):r.a.createElement("div",null,r.a.createElement("div",{id:"headingOne"},r.a.createElement("h2",null,r.a.createElement("button",{className:"button"},"No Jobs"))))}),Y=function(){return r.a.createElement("div",null,r.a.createElement(K,null))},Z=function e(){Object(p.a)(this,e),this.getWeek=function(){for(var e=[],t=0;t<7;t++){var a=new Date,n=new Date(a.setDate(a.getDate()+t));e.push(n.toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"}))}return e},this.getDay=function(){return(new Date).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"})},this.dateTransform=function(e){var t=e.split("/");return 1===t[0].length&&(t[0]="0".concat(t[0])),1===t[1].length&&(t[1]="0".concat(t[1])),t[2]+"-"+t[0]+"-"+t[1]},this.formatDateSlash=function(e){var t=e.split("-");return"0"===t[2][0]&&(t[2]=t[2][1]),"0"===t[1][0]&&(t[1]=t[1][1]),t[1]+"//"+t[2]+"//"+t[0]},this.formatTime=function(e){var t=e.split(":");return t[0]-12>0?"".concat(t[0]-12,":").concat(t[1]," pm"):"".concat(t[0],":").concat(t[1]," am")}},X=new Z,q=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={date:""},a.handleSubmit=function(e){e.preventDefault(),a.props.getJobs(a.state.date,a.props.user.id)},a.handleChange=function(e){var t=e.target.value.split("-"),n=t[0],r=parseInt(t[1])-1,o=t[2],l=new Date(n,r,o);a.setState(Object(M.a)({},e.target.name,l.toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"})))},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.getJobs(X.getDay(),this.props.user.id)}},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form-container"},r.a.createElement("h2",null,"JOB SEARCH"),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{onChange:this.handleChange,type:"date",name:"date",min:X.dateTransform(X.getDay())}),r.a.createElement("button",{className:"button",type:"submit"},"Submit"))),r.a.createElement(Y,null)))}}]),t}(r.a.Component),$=Object(i.b)(function(e){return{user:e.loginReducer.user}},function(e){return{getJobs:function(t,a){e(W(t,a))}}})(q),Q=a(65);var ee=Object(i.b)(function(e){return{user:e.loginReducer.user}})(function(e){return 1===e.user.location.id?r.a.createElement(Q.a,{to:"/joincompany"}):r.a.createElement($,null)}),te=function(e){var t=function(t){function a(){return Object(p.a)(this,a),Object(S.a)(this,Object(F.a)(a).apply(this,arguments))}return Object(A.a)(a,t),Object(h.a)(a,[{key:"render",value:function(){return this.props.user?"manager"===this.props.user.user_type||"owner"===this.props.user.user_type?r.a.createElement(e,null):void 0:r.a.createElement(k.a,{to:"/"})}}]),a}(r.a.Component);return Object(i.b)(function(e){return{user:e.loginReducer.user}})(t)},ae=a(3),ne=new d("api/v1/teams/location"),re=new d("api/v1/users/location"),oe=new d("api/v1/teams"),le=new d("api/v1/team_users"),ie=new d("api/v1/team_users/remove"),ce=new d("api/v1/users"),me=function(e){return function(t){var a={team:{location_id:e}};ne.createItem(a).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){console.log("TEAMS RESPONSE JSON",e),t({type:"GET_TEAMS",payload:e})})}},se=function(e){return function(t){var a={user:{location_id:e}};re.createItem(a).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){t({type:"GET_TEAM_MEMBERS",payload:e})})}},ue=(a(48),new Z),pe=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(o)))).state={street_1:"",street_2:"",city:"",zip:"",description:"",status:"",payment_type:"",paid:"",schedule_time:"",location_id:"",date:""},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleDateChange=function(e){var t=e.target.value.split("-"),n=t[0],r=parseInt(t[1])-1,o=t[2],l=new Date(n,r,o);a.setState({schedule_date:l.toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}),a.setState({date:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t={street_1:a.state.street_1,street_2:a.state.street_2,city:a.state.city,state:a.state.state,zip:a.state.zip,description:a.state.description,status:a.state.status,payment_type:a.state.payment_type,schedule_date:a.state.schedule_date,schedule_time:a.state.schedule_time,paid:a.state.paid,team_id:a.state.team_id};a.props.updateJob(t,a.state.id)},a.handleTimeChange=function(e){console.log("%cHANDLETIME","color:green",e.target.name,e.target.value)},a.selectionOptionStatus=function(){switch(a.state.status){case"IR in route":return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{selected:"selected"},"IR in route"),r.a.createElement("option",null,"IP in progress"),r.a.createElement("option",null,"DN done"),r.a.createElement("option",null,"FU follow up"));case"IP in progress":return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",null,"IR in route"),r.a.createElement("option",{selected:"selected"},"IP in progress"),r.a.createElement("option",null,"DN done"),r.a.createElement("option",null,"FU follow up"));case"DN done":return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",null,"IR in route"),r.a.createElement("option",null,"IP in progress"),r.a.createElement("option",{selected:"selected"},"DN done"),r.a.createElement("option",null,"FU follow up"));case"FU follow up":return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",null,"IR in route"),r.a.createElement("option",null,"IP in progress"),r.a.createElement("option",null,"DN done"),r.a.createElement("option",{selected:"selected"},"FU follow up"));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",null,"IR in route")," ",r.a.createElement("option",null,"IP in progress")," ",r.a.createElement("option",null,"DN done")," ",r.a.createElement("option",null,"FU follow up"))}},a.selectionOptionTeam=function(){return a.props.teams.map(function(e){return e.id===a.state.team.id?r.a.createElement("option",{value:e.id,selected:"selected"},e.name):r.a.createElement("option",{value:e.id},e.name)})},a.selectionOptionPayment=function(){switch(a.state.payment_type){case"CC Credit Card":return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{selected:"selected"},"CC Credit Card"),r.a.createElement("option",null,"CH Cash"),r.a.createElement("option",null,"CK Check"),r.a.createElement("option",null,"INV Invoice"));case"CH Cash":return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",null,"CC Credit Card"),r.a.createElement("option",{selected:"selected"},"CH Cash"),r.a.createElement("option",null,"CK Check"),r.a.createElement("option",null,"INV Invoice"));case"CK Check":case"INV Invoice":return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",null,"CC Credit Card"),r.a.createElement("option",null,"CH Cash"),r.a.createElement("option",{selected:"selected"},"CK Check"),r.a.createElement("option",null,"INV Invoice"));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{selected:"selected"},"CC Credit Card"),r.a.createElement("option",null,"CH Cash"),r.a.createElement("option",null,"CK Check"),r.a.createElement("option",null,"INV Invoice"))}},a.paidRadioButtons=function(){return!0===a.state.paid||"true"===a.state.paid?r.a.createElement(r.a.Fragment,null,a.props.job.editingJob.paid?r.a.createElement("div",null,"This bill currently paid choose no to mark unpaid"):r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("input",{onClick:a.handleChange,type:"radio",name:"paid",id:"paid1",value:"true",checked:!0}),r.a.createElement("label",{htmlFor:"paid1"},"Yes")),r.a.createElement("div",null,r.a.createElement("input",{onClick:a.handleChange,type:"radio",name:"paid",id:"paid2",value:"false"}),r.a.createElement("label",{htmlFor:"paid2"},"No"))):r.a.createElement(r.a.Fragment,null,a.props.job.editingJob.paid?r.a.createElement("div",null,"This bill currently paid choose 'No' to mark unpaid"):r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("input",{onChange:a.handleChange,type:"radio",name:"paid",id:"paid1",value:"true",checked:!0}),r.a.createElement("div",null),r.a.createElement("label",{htmlFor:"paid1"},"Yes")),r.a.createElement("div",null,r.a.createElement("input",{onChange:a.handleChange,type:"radio",name:"paid",id:"paid2",value:"false",checked:!0}),r.a.createElement("div",null),r.a.createElement("label",{htmlFor:"paid2"},"No")))},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.getTeams(this.props.job.editingJob.location.id),this.setState({date:ue.dateTransform(this.props.job.editingJob.schedule_date)}),this.setState(Object(ae.a)({},this.state,this.props.job.editingJob))}},{key:"render",value:function(){return this.state.city||this.state.street_1?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form-container"},r.a.createElement("h2",null,this.props.job.editingJob.city,", ",this.props.job.editingJob.customer.name," ",this.props.job.editingJob.customer.phone,", ",this.props.job.editingJob.status),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"one"},r.a.createElement("label",{htmlFor:"street_1"},"Street 1"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"street_1",id:"street_1",value:this.state.street_1}),r.a.createElement("label",{htmlFor:"street_2"},"Street 2"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"street_2",id:"street_2",value:this.state.street_2}),r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"city",id:"city",value:this.state.city}),r.a.createElement("label",{htmlFor:"state"},"State"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"state",id:"state",value:this.state.state}),r.a.createElement("label",{htmlFor:"zip"},"Zip"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"zip",id:"zip",value:this.state.zip}),r.a.createElement("label",{htmlFor:"add-to-description".concat(this.props.job.editingJob.id)},"Description"),r.a.createElement("textarea",{onChange:this.handleChange,name:"description",id:"add-to-description".concat(this.props.job.id),rows:"3",value:this.state.description}),r.a.createElement("div",null,"Date: ",this.state.schedule_date,r.a.createElement("label",{htmlFor:"date"}),r.a.createElement("input",{onChange:this.handleDateChange,id:"date",value:this.state.date,type:"date",name:"date",min:"",max:""})),r.a.createElement("div",null,"Scheduled time: ",ue.formatTime(this.state.schedule_time),r.a.createElement("label",{htmlFor:"time"}),r.a.createElement("input",{onChange:this.handleChange,id:"time",value:this.state.schedule_time,type:"time",name:"schedule_time",min:"",max:""})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"jobStatusSelect"},"Change Status"),r.a.createElement("select",{onChange:this.handleChange,name:"status",id:"jobStatusSelect".concat(this.props.job.editingJob.id),value:this.state.status},this.selectionOptionStatus())),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"jobPaymentSelect"},"Change Payment Type"),r.a.createElement("select",{onChange:this.handleChange,name:"payment_type",id:"jobPaymentSelect".concat(this.props.job.editingJob.id),value:this.state.payment_type},this.selectionOptionPayment())),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"jobPaymentSelect"},"Change team"),r.a.createElement("select",{onChange:this.handleChange,name:"team_id",id:"teamSelect".concat(this.props.job.editingJob.id)},this.selectionOptionTeam())),r.a.createElement("div",{className:"paid"},r.a.createElement("label",{htmlFor:"paid"},"Paid? "),this.paidRadioButtons()),r.a.createElement("button",{className:"button",type:"submit"},"Update"))))):r.a.createElement(k.a,{to:"/"})}}]),t}(n.Component),he=te(J(Object(i.b)(function(e){return{job:e.jobReducer,teams:e.teamReducer.teams}},function(e){return{updateJob:function(t,a){e(function(e,t){return function(a){G.updateItem(e,t).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){a({type:"UPDATE_JOB",payload:e})})}}(t,a))},getTeams:function(t){e(me(t))}}})(pe))),de=(a(49),new Z),Ee=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(o)))).state={currentWeek:de.getWeek()},a.handleClick=function(e){var t=a.props.jobs.jobs.filter(function(t){return t.id===e});a.props.editJob(t[0])},a.renderJobsJsx=function(e){return a.props.jobs.jobs.filter(function(t){return t.schedule_date===e}).map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-content",key:e.id},r.a.createElement("p",{className:"button",onClick:function(){return a.handleClick(e.id)}}," ",e.city," ",e.customer.name," "),r.a.createElement("a",{className:"button",href:"tel:+1".concat(e.customer.phone)},r.a.createElement("i",{className:"fas fa-mobile-alt"})," ",e.customer.phone)))})},a.createJobButton=function(){a.props.createJobFlag()},a.renderMain=function(){return a.props.jobs.jobForm?r.a.createElement(r.a.Fragment,null,r.a.createElement(he,null)):a.state.currentWeek.map(function(e){return r.a.createElement("div",{key:e,className:"card"},r.a.createElement("span",null,e," "),a.renderJobsJsx(e))})},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.addWeek(this.state.currentWeek,this.props.user.location.id)}},{key:"render",value:function(){return 1===this.props.user.location.id&&"owner"===this.props.user.user_type?r.a.createElement(Q.a,{to:"/createcompany"}):1===this.props.user.location.id&&"manager"===this.props.user.user_type?r.a.createElement(Q.a,{to:"/joincompany"}):this.props.jobs.createJobFlag?r.a.createElement(Q.a,{to:"/createjob"}):r.a.createElement("div",{className:"container"},r.a.createElement("i",{className:"fas fa-arrow-alt-circle-left"}),r.a.createElement("h2",null,"Jobs"),r.a.createElement("i",{className:"fas fa-arrow-alt-circle-right"}),r.a.createElement("div",{className:"card"},this.renderMain()),r.a.createElement("button",{className:"button",onClick:this.createJobButton},"Create New Job"))}}]),t}(n.Component),be=te(Object(i.b)(function(e){return{jobs:e.jobReducer,user:e.loginReducer.user}},function(e){return{addWeek:function(t,a){e(H(t,a))},editJob:function(t){e(function(e){return{type:"EDIT_JOB",payload:e}}(t))},createJobFlag:function(){e({type:"CREATE_JOB_FLAG"})}}})(Ee)),ge=function(e){function t(){return Object(p.a)(this,t),Object(S.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(be,null)}}]),t}(n.Component),fe=function(){return r.a.createElement(be,null)},ve=new d("api/v1/customers/location"),ye=new d("api/v1/customers"),Ce=function(e){return function(t){var a={customers:{location_id:e}};ve.createItem(a).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){t({type:"GET_CUSTOMERS",payload:e})})}},je=new Z;var _e=J(Object(i.b)(function(e){return{user:e.loginReducer.user}},function(e){return{addWeek:function(t,a){e(H(t,a))},getCustomers:function(t){e(Ce(t))},getTeams:function(t){e(me(t))},getTeamMembers:function(t){e(se(t))}}})(function(e){switch(e.addWeek(je.getWeek(),e.user.location.id),e.getCustomers(e.user.location.id),e.getTeams(e.user.location.id),e.getTeamMembers(e.user.location.id),console.log(e.user),e.user.user_type){case"employee":return r.a.createElement(ee,null);case"manager":return r.a.createElement(ge,null);case"owner":return r.a.createElement(fe,null);default:return r.a.createElement("div",null)}})),Oe=new Z,Te=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(o)))).state={customer_id:"",location_id:"",team_id:"",street_1:"",street_2:"",city:"",zip:"",state:"",price:"",schedule_date:"",schedule_time:"",description:"",date:""},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleDateChange=function(e){var t=e.target.value.split("-"),n=t[0],r=parseInt(t[1])-1,o=t[2],l=new Date(n,r,o);a.setState({schedule_date:l.toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}),a.setState({date:e.target.value})},a.getCustomerOptions=function(){return a.props.customers.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id}," ",e.name,", ",e.city)})},a.getTeamOptions=function(){return a.props.teams.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id}," ",e.name," ")})},a.handleSubmit=function(e){e.preventDefault(),a.props.createJob(a.state)},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState({location_id:this.props.user.location.id,date:Oe.getDay()})}},{key:"render",value:function(){return this.props.createJobFlag?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form-container"},r.a.createElement("h2",null,"Create New Job"),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"one"},r.a.createElement("label",{htmlFor:"customer_id"},"Customer"),r.a.createElement("select",{onChange:this.handleChange,name:"customer_id",id:"customer_id"},r.a.createElement("option",{value:""}),this.getCustomerOptions()),r.a.createElement("label",{htmlFor:"team_id"},"Team"),r.a.createElement("select",{onChange:this.handleChange,name:"team_id",id:"team_id"},r.a.createElement("option",{value:""}),this.getTeamOptions()),r.a.createElement("label",{htmlFor:"street-1"},"Street 1"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"street_1",id:"street-1",value:this.state.street_1}),r.a.createElement("label",{htmlFor:"street-2"},"Street 2"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"street_2",id:"street-2",value:this.state.street_2}),r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"city",id:"city",value:this.state.city}),r.a.createElement("label",{htmlFor:"zip"},"Zip"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"zip",id:"zip",value:this.state.zip}),r.a.createElement("label",{htmlFor:"state"},"State"),r.a.createElement("select",{onChange:this.handleChange,name:"state",id:"state"},r.a.createElement("option",{value:"AL"},"Alabama"),r.a.createElement("option",{value:"AK"},"Alaska"),r.a.createElement("option",{value:"AZ"},"Arizona"),r.a.createElement("option",{value:"AR"},"Arkansas"),r.a.createElement("option",{value:"CA"},"California"),r.a.createElement("option",{value:"CO"},"Colorado"),r.a.createElement("option",{value:"CT"},"Connecticut"),r.a.createElement("option",{value:"DE"},"Delaware"),r.a.createElement("option",{value:"DC"},"District Of Columbia"),r.a.createElement("option",{value:"FL"},"Florida"),r.a.createElement("option",{value:"GA"},"Georgia"),r.a.createElement("option",{value:"HI"},"Hawaii"),r.a.createElement("option",{value:"ID"},"Idaho"),r.a.createElement("option",{value:"IL"},"Illinois"),r.a.createElement("option",{value:"IN"},"Indiana"),r.a.createElement("option",{value:"IA"},"Iowa"),r.a.createElement("option",{value:"KS"},"Kansas"),r.a.createElement("option",{value:"KY"},"Kentucky"),r.a.createElement("option",{value:"LA"},"Louisiana"),r.a.createElement("option",{value:"ME"},"Maine"),r.a.createElement("option",{value:"MD"},"Maryland"),r.a.createElement("option",{value:"MA"},"Massachusetts"),r.a.createElement("option",{value:"MI"},"Michigan"),r.a.createElement("option",{value:"MN"},"Minnesota"),r.a.createElement("option",{value:"MS"},"Mississippi"),r.a.createElement("option",{value:"MO"},"Missouri"),r.a.createElement("option",{value:"MT"},"Montana"),r.a.createElement("option",{value:"NE"},"Nebraska"),r.a.createElement("option",{value:"NV"},"Nevada"),r.a.createElement("option",{value:"NH"},"New Hampshire"),r.a.createElement("option",{value:"NJ"},"New Jersey"),r.a.createElement("option",{value:"NM"},"New Mexico"),r.a.createElement("option",{value:"NY"},"New York"),r.a.createElement("option",{value:"NC"},"North Carolina"),r.a.createElement("option",{value:"ND"},"North Dakota"),r.a.createElement("option",{value:"OH"},"Ohio"),r.a.createElement("option",{value:"OK"},"Oklahoma"),r.a.createElement("option",{value:"OR"},"Oregon"),r.a.createElement("option",{value:"PA"},"Pennsylvania"),r.a.createElement("option",{value:"RI"},"Rhode Island"),r.a.createElement("option",{value:"SC"},"South Carolina"),r.a.createElement("option",{value:"SD"},"South Dakota"),r.a.createElement("option",{value:"TN"},"Tennessee"),r.a.createElement("option",{value:"TX"},"Texas"),r.a.createElement("option",{value:"UT"},"Utah"),r.a.createElement("option",{value:"VT"},"Vermont"),r.a.createElement("option",{value:"VA"},"Virginia"),r.a.createElement("option",{value:"WA"},"Washington"),r.a.createElement("option",{value:"WV"},"West Virginia"),r.a.createElement("option",{value:"WI"},"Wisconsin"),r.a.createElement("option",{value:"WY"},"Wyoming")),r.a.createElement("label",{htmlFor:"price"},"Price leave blank for none"),r.a.createElement("input",{onChange:this.handleChange,type:"number",name:"price",id:"price",value:this.state.price}),r.a.createElement("label",{htmlFor:"date"},"Date"),r.a.createElement("input",{onChange:this.handleDateChange,id:"date",value:this.state.date,type:"date",name:"date",min:"",max:""}),r.a.createElement("label",{htmlFor:"schedule_time"},"Time "),r.a.createElement("input",{onChange:this.handleChange,type:"time",name:"schedule_time",id:"schedule_time",value:this.state.schedule_time}),r.a.createElement("button",{className:"button",type:"submit"},"Create"))))):r.a.createElement(Q.a,{to:"/"})}}]),t}(n.Component),we=te(J(Object(i.b)(function(e){return{customers:e.customerReducer.customers,user:e.loginReducer.user,createJobFlag:e.jobReducer.createJobFlag,teams:e.teamReducer.teams}},function(e){return{createJob:function(t){e(function(e){return function(t){G.createItem(e).then(function(e){if(e.ok)return e.json();throw console.log(e.json()),e}).then(function(e){t({type:"CREATE_JOB",payload:e})})}}(t))}}})(Te))),Ne=function(e){function t(){return Object(p.a)(this,t),Object(S.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"PUT LOCATIONS HERE AT SOME POINT")}}]),t}(n.Component),Me=function(e){var t=e.users,a=e.removeUser,n=e.teamId;e.getTeam,e.user;return t.length>0?t.map(function(e){return r.a.createElement("p",{key:e.id}," ",e.f_name,", ",e.l_name[0],". ",r.a.createElement("span",{onClick:function(){return a(e.id,n)}},r.a.createElement("i",{className:"fas fa-trash"}))," |")}):r.a.createElement("div",null)},Se=J(te(Object(i.b)(function(e){var t=e.teamReducer;return{teams:t.teams,team:t.team,editingTeam:t.editingTeam,creatingTeam:t.creatingTeam,jobs:e.jobReducer.jobs,user:e.loginReducer.user}},function(e){return{getTeams:function(t){e(me(t))},createTeamFlag:function(){e({type:"CHANGE_TEAM_CREATE_FLAG"})},editTeamFlag:function(){e({type:"CHANGE_TEAM_EDIT_FLAG"})},setTeam:function(t){e(function(e){return{type:"SET_TEAM",payload:e}}(t))},removeTeamMemberFromTeam:function(t,a){var n;e((n=t,function(e){ie.createItem(n).then(function(e){if(e.ok)return e.json();throw e}).then(function(t){e({type:"EDIT_TEAM",payload:t})})}))}}})(function(e){var t=function(t,a){var n={user_id:t,team_id:a};e.removeTeamMemberFromTeam(n)},a=function(t){e.setTeam(t),e.editTeamFlag()};return e.editingTeam||e.creatingTeam?e.creatingTeam?r.a.createElement(Q.a,{to:"/createteam"}):e.editingTeam?r.a.createElement(Q.a,{to:"/editteam"}):void 0:r.a.createElement("main",{className:"container"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"jobs"},r.a.createElement("div",{className:"card"},r.a.createElement("h2",null,"Teams"),function(){if(e.teams&&e.teams.length>0)return e.teams.map(function(e){return r.a.createElement("div",{className:"card-content",key:e.id},r.a.createElement("h2",null,e.name," Team"),r.a.createElement(Me,{users:e.users,removeUser:t,teamId:e.id}),r.a.createElement("button",{className:"button",type:"button",onClick:function(){return a(e)}},"Add Member to Team"))})}()))),r.a.createElement("button",{className:"button",onClick:function(){e.createTeamFlag()}},"Create New Team"))}))),Fe=J(te(Object(i.b)(function(e){return{user:e.loginReducer.user,teamMembers:e.teamMemberReducer}},function(e){return{setTeamMemberAction:function(t){e(function(e){return{type:"SET_TEAM_MEMBER",payload:e}}(t))},changeTeamMemberEditFlag:function(){e({type:"CHANGE_TEAM_MEMBER_EDIT_FLAG"})},createNewTeamMemberFlag:function(){e({type:"CREATE_TEAM_MEMBER_FLAG"})}}})(function(e){return e.teamMembers.teamMemberEditFlag||e.teamMembers.createTeamMemberFlag?e.teamMembers.createTeamMemberFlag?r.a.createElement(Q.a,{to:"/createteammember"}):r.a.createElement(Q.a,{to:"/editteammember"}):(console.log(e.teamMembers.teamMemberEditFlag),r.a.createElement("main",{className:"container"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",null,r.a.createElement("h2",null,"Team Members"),function(){if(e.teamMembers.team_members&&e.teamMembers.team_members.length>0)return e.teamMembers.team_members.map(function(t){return r.a.createElement("div",{key:Date.now()*Math.random()}," ",r.a.createElement("p",{className:"card-content",key:t.id},t.f_name," ",t.l_name," ",r.a.createElement("span",{onClick:function(){return function(t){e.setTeamMemberAction(t)}(t)}}," ",r.a.createElement(u.a,{to:"/map/".concat(t.id)},r.a.createElement("i",{className:"fas fa-map-marker-alt"}))),r.a.createElement("button",{className:"button",onClick:function(){return function(t){e.setTeamMemberAction(t),e.changeTeamMemberEditFlag()}(t)},type:"button"}," ","Edit"," ")))})}())),r.a.createElement("button",{className:"button",onClick:e.createNewTeamMemberFlag},r.a.createElement("span",null,"Add Team Member"))))}))),Ae=te(J(Object(i.b)(function(e){return{customers:e.customerReducer,customer:e.customer,editingCustomer:e.editingCustomer}},function(e){return{editCustomerFlag:function(){e({type:"EDIT_CUSTOMER_FLAG"})},editCustomer:function(t){e(function(e){return{type:"ADD_CUSTOMER_TO_EDIT",payload:e}}(t))},createNewCustomerFlag:function(){e({type:"CREATE_CUSTOMER_FLAG"})}}})(function(e){var t=function(t){e.editCustomer(t),e.editCustomerFlag()};return e.customers.editingCustomer?r.a.createElement(Q.a,{to:"/editcustomer"}):e.customers.createCustomerFlag?r.a.createElement(Q.a,{to:"/createcustomer"}):r.a.createElement("main",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",null,r.a.createElement("h2",null," Customers"),function(){if(e.customers.customers&&e.customers.customers.length>0)return e.customers.customers.map(function(e){return r.a.createElement("p",{key:e.id,className:"card-content"},e.name," ",e.city," ",r.a.createElement("a",{className:"button",href:"tel:".concat(e.phone)},r.a.createElement("i",{className:"fas fa-mobile-alt"})," ",e.phone," "),r.a.createElement("button",{className:"button",type:"button",onClick:function(){return t(e)}},"edit"))})}())),r.a.createElement("button",{className:"button",onClick:function(){e.createNewCustomerFlag()}},"Add New Customer"))}))),ke=a(32),Ie=a(21),De={width:"100%",height:"100%",float:"right"},Re=Object({NODE_ENV:"production",PUBLIC_URL:"/dispatchio-front-end"}).REACT_APP_GOOGLEMAPKEY,Le=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a.onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.props.team_member.lat&&this.props.team_member.lon?r.a.createElement("div",{className:"my-map"},r.a.createElement(Ie.Map,{google:this.props.google,zoom:14,style:De,initialCenter:{lat:this.props.team_member.lat,lng:this.props.team_member.lon}},r.a.createElement(Ie.Marker,{onClick:this.onMarkerClick,name:this.props.team_member.f_name,lastUpdated:this.props.team_member.upat}),r.a.createElement(Ie.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("h4",null,this.state.selectedPlace.name),r.a.createElement("h5",null,"Location last updated at"),r.a.createElement("h5",null,this.state.selectedPlace.lastUpdated))))):r.a.createElement("div",{className:"my-map"},"No Recent Locations for this user")}}]),t}(n.Component),Ue=Object(ke.a)(te(J(Object(i.b)(function(e){return{team_member:e.teamMemberReducer.team_member}},function(e){return{take:"that"}})(Object(Ie.GoogleApiWrapper)({apiKey:Re})(Le)))));function Je(e){var t=e.location;return r.a.createElement("div",null,"404 Man not found :( "+t.pathname)}var Pe=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",poc:"",street_1:"",street_2:"",city:"",zip:"",state:"",phone:"",email:"",id:"",location_id:""},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.editCustomer(a.state,a.state.id)},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(ae.a)({},this.props.customer.customer))}},{key:"render",value:function(){return this.props.customer.editingCustomer?r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"EDIT CUSTOMER INFO"),r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"customer-name"},"Customer Name"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"name",id:"customer-name",value:this.state.name})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"point0of-contact"},"Point of Contact"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"poc",id:"point-of-contact",value:this.state.poc})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"street-1"},"Street 1"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"street_1",id:"street-1",value:this.state.street_1})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"street-2"},"Street 2"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"street_2",id:"street-2",value:this.state.street_2})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"city",id:"city",value:this.state.city})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"zip"},"Zip"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"zip",id:"zip",value:this.state.zip})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"jobPaymentSelect"},"State"),r.a.createElement("select",{onChange:this.handleChange,name:"state",id:"state"},r.a.createElement("option",{value:"AL"},"Alabama"),r.a.createElement("option",{value:"AK"},"Alaska"),r.a.createElement("option",{value:"AZ"},"Arizona"),r.a.createElement("option",{value:"AR"},"Arkansas"),r.a.createElement("option",{value:"CA"},"California"),r.a.createElement("option",{value:"CO"},"Colorado"),r.a.createElement("option",{value:"CT"},"Connecticut"),r.a.createElement("option",{value:"DE"},"Delaware"),r.a.createElement("option",{value:"DC"},"District Of Columbia"),r.a.createElement("option",{value:"FL"},"Florida"),r.a.createElement("option",{value:"GA"},"Georgia"),r.a.createElement("option",{value:"HI"},"Hawaii"),r.a.createElement("option",{value:"ID"},"Idaho"),r.a.createElement("option",{value:"IL"},"Illinois"),r.a.createElement("option",{value:"IN"},"Indiana"),r.a.createElement("option",{value:"IA"},"Iowa"),r.a.createElement("option",{value:"KS"},"Kansas"),r.a.createElement("option",{value:"KY"},"Kentucky"),r.a.createElement("option",{value:"LA"},"Louisiana"),r.a.createElement("option",{value:"ME"},"Maine"),r.a.createElement("option",{value:"MD"},"Maryland"),r.a.createElement("option",{value:"MA"},"Massachusetts"),r.a.createElement("option",{value:"MI"},"Michigan"),r.a.createElement("option",{value:"MN"},"Minnesota"),r.a.createElement("option",{value:"MS"},"Mississippi"),r.a.createElement("option",{value:"MO"},"Missouri"),r.a.createElement("option",{value:"MT"},"Montana"),r.a.createElement("option",{value:"NE"},"Nebraska"),r.a.createElement("option",{value:"NV"},"Nevada"),r.a.createElement("option",{value:"NH"},"New Hampshire"),r.a.createElement("option",{value:"NJ"},"New Jersey"),r.a.createElement("option",{value:"NM"},"New Mexico"),r.a.createElement("option",{value:"NY"},"New York"),r.a.createElement("option",{value:"NC"},"North Carolina"),r.a.createElement("option",{value:"ND"},"North Dakota"),r.a.createElement("option",{value:"OH"},"Ohio"),r.a.createElement("option",{value:"OK"},"Oklahoma"),r.a.createElement("option",{value:"OR"},"Oregon"),r.a.createElement("option",{value:"PA"},"Pennsylvania"),r.a.createElement("option",{value:"RI"},"Rhode Island"),r.a.createElement("option",{value:"SC"},"South Carolina"),r.a.createElement("option",{value:"SD"},"South Dakota"),r.a.createElement("option",{value:"TN"},"Tennessee"),r.a.createElement("option",{value:"TX"},"Texas"),r.a.createElement("option",{value:"UT"},"Utah"),r.a.createElement("option",{value:"VT"},"Vermont"),r.a.createElement("option",{value:"VA"},"Virginia"),r.a.createElement("option",{value:"WA"},"Washington"),r.a.createElement("option",{value:"WV"},"West Virginia"),r.a.createElement("option",{value:"WI"},"Wisconsin"),r.a.createElement("option",{value:"WY"},"Wyoming"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"customer-phone"},"Phone"),r.a.createElement("input",{onChange:this.handleChange,type:"phone",name:"phone",id:"customer-phone",value:this.state.phone})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"customer-email"},"Customer email"),r.a.createElement("input",{onChange:this.handleChange,type:"email",name:"email",id:"customer-email",value:this.state.email})),r.a.createElement("button",{className:"button",type:"submit"},"Update"))))):r.a.createElement(Q.a,{to:"/customers"})}}]),t}(n.Component),xe=te(J(Object(i.b)(function(e){return{customer:e.customerReducer}},function(e){return{editCustomer:function(t,a){var n,r;e((n=t,r=a,function(e){ye.updateItem(n,r).then(function(e){if(e.ok)return e.json();throw console.log(e.json()),e}).then(function(t){e({type:"EDIT_CUSTOMER",payload:t})})}))}}})(Pe))),Ge=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",poc:"",street_1:"",street_2:"",city:"",zip:"",state:"",phone:"",email:"",id:"",location_id:""},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){return e.preventDefault(),a.props.createCustomer(a.state),null},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.setState({location_id:this.props.user.location.id})}},{key:"render",value:function(){return this.props.createCustomerFlag?r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Create New Customer"),r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"customer-name"},"Customer Name"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"name",id:"customer-name",value:this.state.name})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"point0of-contact"},"Point of Contact"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"poc",id:"point-of-contact",value:this.state.poc})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"street-1"},"Street 1"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"street_1",id:"street-1",value:this.state.street_1})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"street-2"},"Street 2"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"street_2",id:"street-2",value:this.state.street_2})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"city",id:"city",value:this.state.city})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"zip"},"Zip"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"zip",id:"zip",value:this.state.zip})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"jobPaymentSelect"},"State"),r.a.createElement("select",{onChange:this.handleChange,name:"state",id:"state"},r.a.createElement("option",{value:"AL"},"Alabama"),r.a.createElement("option",{value:"AK"},"Alaska"),r.a.createElement("option",{value:"AZ"},"Arizona"),r.a.createElement("option",{value:"AR"},"Arkansas"),r.a.createElement("option",{value:"CA"},"California"),r.a.createElement("option",{value:"CO"},"Colorado"),r.a.createElement("option",{value:"CT"},"Connecticut"),r.a.createElement("option",{value:"DE"},"Delaware"),r.a.createElement("option",{value:"DC"},"District Of Columbia"),r.a.createElement("option",{value:"FL"},"Florida"),r.a.createElement("option",{value:"GA"},"Georgia"),r.a.createElement("option",{value:"HI"},"Hawaii"),r.a.createElement("option",{value:"ID"},"Idaho"),r.a.createElement("option",{value:"IL"},"Illinois"),r.a.createElement("option",{value:"IN"},"Indiana"),r.a.createElement("option",{value:"IA"},"Iowa"),r.a.createElement("option",{value:"KS"},"Kansas"),r.a.createElement("option",{value:"KY"},"Kentucky"),r.a.createElement("option",{value:"LA"},"Louisiana"),r.a.createElement("option",{value:"ME"},"Maine"),r.a.createElement("option",{value:"MD"},"Maryland"),r.a.createElement("option",{value:"MA"},"Massachusetts"),r.a.createElement("option",{value:"MI"},"Michigan"),r.a.createElement("option",{value:"MN"},"Minnesota"),r.a.createElement("option",{value:"MS"},"Mississippi"),r.a.createElement("option",{value:"MO"},"Missouri"),r.a.createElement("option",{value:"MT"},"Montana"),r.a.createElement("option",{value:"NE"},"Nebraska"),r.a.createElement("option",{value:"NV"},"Nevada"),r.a.createElement("option",{value:"NH"},"New Hampshire"),r.a.createElement("option",{value:"NJ"},"New Jersey"),r.a.createElement("option",{value:"NM"},"New Mexico"),r.a.createElement("option",{value:"NY"},"New York"),r.a.createElement("option",{value:"NC"},"North Carolina"),r.a.createElement("option",{value:"ND"},"North Dakota"),r.a.createElement("option",{value:"OH"},"Ohio"),r.a.createElement("option",{value:"OK"},"Oklahoma"),r.a.createElement("option",{value:"OR"},"Oregon"),r.a.createElement("option",{value:"PA"},"Pennsylvania"),r.a.createElement("option",{value:"RI"},"Rhode Island"),r.a.createElement("option",{value:"SC"},"South Carolina"),r.a.createElement("option",{value:"SD"},"South Dakota"),r.a.createElement("option",{value:"TN"},"Tennessee"),r.a.createElement("option",{value:"TX"},"Texas"),r.a.createElement("option",{value:"UT"},"Utah"),r.a.createElement("option",{value:"VT"},"Vermont"),r.a.createElement("option",{value:"VA"},"Virginia"),r.a.createElement("option",{value:"WA"},"Washington"),r.a.createElement("option",{value:"WV"},"West Virginia"),r.a.createElement("option",{value:"WI"},"Wisconsin"),r.a.createElement("option",{value:"WY"},"Wyoming"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"customer-phone"},"Phone"),r.a.createElement("input",{onChange:this.handleChange,type:"phone",name:"phone",id:"customer-phone",value:this.state.phone})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"customer-email"},"Customer email"),r.a.createElement("input",{onChange:this.handleChange,type:"email",name:"email",id:"customer-email",value:this.state.email})),r.a.createElement("button",{className:"button",type:"submit"},"Create"))))):r.a.createElement(Q.a,{to:"/customers"})}}]),t}(n.Component),We=te(J(Object(i.b)(function(e){var t=e.customerReducer;return{customer:t.customer,createCustomerFlag:t.createCustomerFlag,user:e.loginReducer.user}},function(e){return{createCustomer:function(t){e(function(e){return function(t){ye.createItem(e).then(function(e){if(e.ok)return e.json();throw console.log(e.json()),e}).then(function(e){t({type:"CREATE_CUSTOMER",payload:e})})}}(t))}}})(Ge))),He=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={f_name:"",l_name:"",phone:"",email:"",user_type:""},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.updateTeamMember(a.state,a.state.id)},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(ae.a)({},this.props.team_member))}},{key:"render",value:function(){return console.log("EDIT TEAM MEMBER",this.props),this.props.teamMemberEditFlag?r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"EDIT EMPLOYEE INFO"),r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"First Name"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"f_name",id:"f_name",value:this.state.f_name})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Last Name"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"l_name",id:"l_name",value:this.state.l_name})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement("input",{onChange:this.handleChange,type:"phone",name:"phone",id:"phone",value:this.state.phone})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:this.handleChange,type:"email",name:"email",id:"email",value:this.state.email})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"teamMemberType"},"Team Member Type"),r.a.createElement("select",{onChange:this.handleChange,name:"user_type",id:"user_type"},r.a.createElement("option",{value:"",selected:!0}),r.a.createElement("option",{value:"manager"},"Manager"),r.a.createElement("option",{value:"employee"},"Employee"))),r.a.createElement("button",{className:"button",type:"submit"},"Update"))))):r.a.createElement(Q.a,{to:"/teammembers"})}}]),t}(n.Component),Be=Object(i.b)(function(e){return e.teamMemberReducer},function(e){return{updateTeamMember:function(t,a){e(function(e,t){return function(a){ce.updateItem(e,t).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){a({type:"EDIT_TEAM_MEMBER",payload:e})})}}(t,a))}}})(He),ze=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={f_name:"",l_name:"",phone:"",email:"",user_type:"",password:"",password_c:"",location_id:""},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){if(e.preventDefault(),a.state.password!==a.state.password_c)return alert("passwords do not match"),null;a.props.createTeamMember(a.state)},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState({location_id:this.props.user.location.id})}},{key:"render",value:function(){return this.props.createTeamMemberFlag?r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Create New TeamMember"),r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"f_name"},"First Name"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"f_name",id:"f_name",value:this.state.f_name}),r.a.createElement("label",{htmlFor:"l_name"},"Last Name"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"l_name",id:"l_name",value:this.state.l_name}),r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement("input",{onChange:this.handleChange,type:"phone",name:"phone",id:"phone",value:this.state.phone}),r.a.createElement("label",{htmlFor:"email"}," email"),r.a.createElement("input",{onChange:this.handleChange,type:"email",name:"email",id:"email",value:this.state.email}),r.a.createElement("label",{htmlFor:"password"}," Password"),r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password",id:"password",value:this.state.password}),r.a.createElement("label",{htmlFor:"password_c"}," Confirm password"),r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password_c",id:"password_c",value:this.state.password_c}),r.a.createElement("label",{htmlFor:"jobPaymentSelect"},"Team Member Type"),r.a.createElement("select",{onChange:this.handleChange,name:"user_type",id:"user_type"},r.a.createElement("option",{value:"employee"},"Employee"),r.a.createElement("option",{value:"manager"},"Manager")),r.a.createElement("button",{className:"button",type:"submit"},"Create"))))):r.a.createElement(Q.a,{to:"/teammembers"})}}]),t}(n.Component),Ve=te(J(Object(i.b)(function(e){var t=e.teamMemberReducer;return{team_member:t.team_member,createTeamMemberFlag:t.createTeamMemberFlag,user:e.loginReducer.user}},function(e){return{createTeamMember:function(t){var a;e((a=t,function(e){ce.createItem(a).then(function(e){if(e.ok)return e.json();throw e}).then(function(t){e({type:"CREATE_TEAM_MEMBER",payload:t})})}))}}})(ze))),Ke=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",location_id:""},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.createTeam(a.state)},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState({location_id:this.props.user.location.id})}},{key:"render",value:function(){return this.props.creatingTeam?r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Create New Team"),r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Team Name"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"name",id:"name",value:this.state.name})),r.a.createElement("button",{className:"button",type:"submit"},"Create"))))):r.a.createElement(Q.a,{to:"/teams"})}}]),t}(n.Component),Ye=te(J(Object(i.b)(function(e){var t=e.teamReducer;return{team:t.team,creatingTeam:t.creatingTeam,user:e.loginReducer.user}},function(e){return{createTeam:function(t){var a;e((a=t,function(e){oe.createItem(a).then(function(e){if(e.ok)return e.json();throw e}).then(function(t){e({type:"CREATE_TEAM",payload:t})})}))}}})(Ke))),Ze=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",location_id:"",team_id:"",user_id:""},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.getTeamMembers=function(){return a.props.team_members.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id}," ",e.f_name,", ",e.l_name)})},a.handleSubmit=function(e){e.preventDefault(),a.props.addMemberToTeam(a.state)},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState({location_id:this.props.user.location.id,team_id:this.props.team.id})}},{key:"render",value:function(){return this.props.editingTeam?r.a.createElement("div",null,r.a.createElement("h2",null,"Add Team Members to Team ",this.props.team.name),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"team-member-select"},"Choose Team Member to add."),r.a.createElement("select",{onChange:this.handleChange,name:"user_id",id:"user_id"},r.a.createElement("option",{value:""}),this.getTeamMembers())),r.a.createElement("button",{type:"submit"},"Create")))):r.a.createElement(Q.a,{to:"/teams"})}}]),t}(n.Component),Xe=te(J(Object(i.b)(function(e){var t=e.teamReducer;return{team:t.team,creatingTeam:t.creatingTeam,editingTeam:t.editingTeam,team_members:e.teamMemberReducer.team_members,user:e.loginReducer.user}},function(e){return{addMemberToTeam:function(t){e(function(e){return function(t){le.createItem(e).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){t({type:"EDIT_TEAM",payload:e})})}}(t))}}})(Ze))),qe=new d("api/v1/companies"),$e=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={company:{name:"",phone:"",website:""},location:{city:"",nickname:""},user:{id:""}},a.handleChangeCompany=function(e){e.persist(),console.log(a.props.user),a.setState(function(t){return{company:Object(ae.a)({},t.company,Object(M.a)({},e.target.name,e.target.value))}}),a.setState({user:{id:a.props.user.id}})},a.handleChangeLocation=function(e){e.persist(),a.setState(function(t){return{location:Object(ae.a)({},t.location,Object(M.a)({},e.target.name,e.target.value))}}),a.setState({user:{id:a.props.user.id}})},a.handleSubmit=function(e){e.preventDefault(),a.props.createCompany(a.state)},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return null===this.props.user||1!==this.props.user.location.id?r.a.createElement(k.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Create New Company"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Company Name"),r.a.createElement("input",{onChange:this.handleChangeCompany,type:"text",minLength:"4",name:"name",id:"name",value:this.state.company.name})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"phone"},"Company Primary Phone"),r.a.createElement("input",{onChange:this.handleChangeCompany,type:"tel",pattern:"[0-9]{10}",placeholder:"2015551111",name:"phone",id:"phone",value:this.state.company.phone})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"website"}," Company Website"),r.a.createElement("input",{onChange:this.handleChangeCompany,type:"website",name:"website",minLength:"4",id:"website",value:this.state.company.website})),r.a.createElement("h2",null,"Main Location"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"nickname"},"Location Nickname"),r.a.createElement("input",{onChange:this.handleChangeLocation,type:"text",minLength:"4",name:"nickname",id:"nickname",value:this.state.location.nickname})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("input",{onChange:this.handleChangeLocation,type:"text",minLength:"4",name:"city",id:"city",value:this.state.location.city})),r.a.createElement("button",{type:"submit"},"Create"))))}}]),t}(n.Component),Qe=J(Object(i.b)(function(e){return{user:e.loginReducer.user}},function(e){return{updateUser:function(t,a){e(y(t,a))},createCompany:function(t){e(function(e){return function(t){qe.createItem(e).then(function(e){if(e.ok)return e.json();throw console.log(e.json()),e}).then(function(e){t({type:"UPDATE_USER",payload:{location:e.locations[0]}})})}}(t))}}})($e)),et=function(e){var t=e.locations;return t&&t.length>0?t.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},"Name: ",e.nickname,", ID: ",e.id)}):""},tt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(S.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(o)))).state={companySearch:"",foundCompanies:[],chosenCompany:{},chosenLocation:[]},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value),a.findCompanies)},a.findCompanies=function(){a.setState({foundCompanies:a.props.companies.filter(function(e){return e.name.toLowerCase().includes(a.state.companySearch.toLowerCase())})})},a.displayCompanies=function(){return a.state.foundCompanies.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})},a.selectCompany=function(e){e.persist(),a.setState({chosenCompany:a.state.foundCompanies.find(function(t){return t.id===parseInt(e.target.value)})})},a.selectLocation=function(e){a.setState({chosenLocation:[a.state.chosenCompany.locations.find(function(t){return t.id===parseInt(e.target.value)})]})},a.updateUserLocation=function(){var e={company_id:a.state.chosenCompany.id,location_id:a.state.chosenLocation[0].id};a.props.updateUser(e,a.props.user.id)},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.getCompanies()}},{key:"render",value:function(){return null===this.props.user||1!==this.props.user.location.id?r.a.createElement(k.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Find Your Company"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"companySearch"},"Type to start searching for your company"),r.a.createElement("input",{onChange:this.handleChange,name:"companySearch",id:"companySearch",autoComplete:"off"}),r.a.createElement("select",{size:"3",onChange:this.selectCompany,defaultValue:""}," ",this.displayCompanies())),r.a.createElement("h2",null,"Find your main work location"),r.a.createElement("select",{size:"3",onChange:this.selectLocation,defaultValue:""},this.state.chosenCompany?r.a.createElement(et,{locations:this.state.chosenCompany.locations}):r.a.createElement("option",null," Searching...")),this.state.chosenLocation.length>0?r.a.createElement("button",{onClick:this.updateUserLocation},"Go"):null)}}]),t}(n.Component),at=J(Object(i.b)(function(e){return{user:e.loginReducer.user,companies:e.companiesReducer.companies}},function(e){return{getCompanies:function(){e(function(e){qe.getAll().then(function(t){e({type:"GET_COMPANIES",payload:t})})})},updateUser:function(t,a){e(y(t,a))}}})(tt));a(62);var nt=Object(s.a)(Object(i.b)(function(e){return{user:e.loginReducer.user}},function(e){return{fetchCurrentUser:function(){return e(C())},getTeamMembers:function(t){e(se(t))},getTeams:function(t){return e(me(t))}}})(function(e){return e.user&&e.user.location&&e.user.location.id&&e.getTeamMembers(e.user.location.id),e.user&&e.user.location&&e.user.location.id&&e.getTeams(e.user.location.id),console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement("div",{className:"content"},r.a.createElement(c.a,null,r.a.createElement(m.a,{path:"/",exact:!0,component:_e}),r.a.createElement(m.a,{path:"/login",component:U}),r.a.createElement(m.a,{path:"/signup",component:R}),r.a.createElement(m.a,{path:"/jobs",component:be}),r.a.createElement(m.a,{path:"/createjob",component:we}),r.a.createElement(m.a,{path:"/locations",component:Ne}),r.a.createElement(m.a,{path:"/teams",render:function(){return r.a.createElement(Se,null)}}),r.a.createElement(m.a,{path:"/createteam",component:Ye}),r.a.createElement(m.a,{path:"/editteam",component:Xe}),r.a.createElement(m.a,{path:"/teammembers",render:function(){return r.a.createElement(Fe,null)}}),r.a.createElement(m.a,{path:"/editteammember",component:Be}),r.a.createElement(m.a,{path:"/createteammember",component:Ve}),r.a.createElement(m.a,{path:"/customers",component:Ae}),r.a.createElement(m.a,{path:"/editcustomer",component:xe}),r.a.createElement(m.a,{path:"/createcustomer",component:We}),r.a.createElement(m.a,{path:"/createcompany",component:Qe}),r.a.createElement(m.a,{path:"/joincompany",component:at}),r.a.createElement(m.a,{path:"/createcompany",component:Qe}),r.a.createElement(m.a,{path:"/map/:id",component:Ue}),r.a.createElement(m.a,{component:Je}))))})),rt=a(68);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ot=a(17),lt=a(34),it=a(35),ct=a(11),mt="ADD_LOCATION",st={JWTToken:"",authenticatingUser:!1,loggedIn:!1,failedLogin:!1,user:null,error:""},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(ae.a)({},e,{user:t.payload,loggedIn:!0,authenticatingUser:!1});case"AUTHENTICATING_USER":return Object(ae.a)({},e,{authenticatingUser:!0});case"AUTHENTICATED_USER":return Object(ae.a)({},e,{authenticatingUser:!1});case"FAILED_LOGIN":return Object(ae.a)({},e,{failedLogin:!0,error:t.payload,authenticatingUser:!1});case"ADD_USER":return Object(ae.a)({},e,{users:[].concat(Object(ct.a)(e.users),[t.payload])});case"LOG_OUT":return st;case"UPDATE_USER":return Object(ae.a)({},e,{user:t.payload});default:return e}},pt={users:[],phone:"",website:"",name:"",locations:[]};var ht={jobs:[],editingJob:{},jobForm:!1,createJobFlag:!1},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_JOB":return Object(ae.a)({},e,{jobs:[].concat(Object(ct.a)(e.jobs.slice(0)),[t.payload])});case"GET_JOBS":return Object(ae.a)({},ht,{jobs:t.payload});case"GET_WEEK":return{jobs:[].concat(Object(ct.a)(ht.jobs),Object(ct.a)(t.payload)),editingJob:Object(ae.a)({},e.editingJob),jobForm:!1,createJob:!1};case"EDIT_JOB":return{jobs:Object(ct.a)(e.jobs),editingJob:t.payload,jobForm:!0};case"UPDATE_JOB":return{jobs:e.jobs.filter(function(e){return e.id!==t.payload.id}).concat(t.payload),editingJob:ht.editingJob,jobForm:!1};case"CREATE_JOB_FLAG":return Object(ae.a)({},e,{jobForm:!1,createJobFlag:!0});case"CREATE_JOB":return Object(ae.a)({},e,{jobs:[].concat(Object(ct.a)(e.jobs),[t.payload]),createJobFlag:!1});default:return e}},Et={teams:[],team:{},editingTeam:!1,creatingTeam:!1},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TEAMS":return Object(ae.a)({},e,{teams:t.payload});case"SET_TEAM":return Object(ae.a)({},e,{team:t.payload});case"CHANGE_TEAM_EDIT_FLAG":return Object(ae.a)({},e,{editingTeam:!0});case"EDIT_TEAM":return{teams:e.teams.filter(function(e){return e.id!==t.payload.id}).concat(t.payload),team:Et.team,editingTeam:!1};case"CHANGE_TEAM_CREATE_FLAG":return Object(ae.a)({},e,{creatingTeam:!0});case"CREATE_TEAM":return Object(ae.a)({},e,{teams:[].concat(Object(ct.a)(e.teams),[t.payload]),creatingTeam:!1});default:return e}},gt={team_members:[],team_member:{},teamMemberEditFlag:!1,createTeamMemberFlag:!1},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TEAM_MEMBERS":return Object(ae.a)({},e,{team_members:t.payload});case"SET_TEAM_MEMBER":return Object(ae.a)({},e,{team_member:t.payload});case"CHANGE_TEAM_MEMBER_EDIT_FLAG":return Object(ae.a)({},e,{teamMemberEditFlag:!0});case"EDIT_TEAM_MEMBER":return{team_members:e.team_members.filter(function(e){return e.id!==t.payload.id}).concat(t.payload),team_member:gt.team_member,teamMemberEditFlag:!1};case"CREATE_TEAM_MEMBER_FLAG":return Object(ae.a)({},e,{createTeamMemberFlag:!0});case"CREATE_TEAM_MEMBER":return Object(ae.a)({},e,{team_members:[].concat(Object(ct.a)(e.team_members),[t.payload]),createTeamMemberFlag:!1});default:return e}},vt={customers:[],customer:{},editingCustomer:!1,createCustomerFlag:!1},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CUSTOMERS":return Object(ae.a)({},vt,{customers:t.payload});case"EDIT_CUSTOMER_FLAG":return Object(ae.a)({},e,{editingCustomer:!0});case"EDIT_CUSTOMER":return{customers:e.customers.filter(function(e){return e.id!==t.payload.id}).concat(t.payload),customer:vt.customer,editingCustomer:!1};case"ADD_CUSTOMER_TO_EDIT":return Object(ae.a)({},e,{customer:t.payload});case"CREATE_CUSTOMER_FLAG":return Object(ae.a)({},e,{createCustomerFlag:!0});case"CREATE_CUSTOMER":return Object(ae.a)({},e,{customers:[].concat(Object(ct.a)(e.customers),[t.payload]),createCustomerFlag:!1});default:return e}},Ct={companies:[]},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COMPANIES":return Object(ae.a)({},Ct,{companies:t.payload});case"ADD_COMPANY":return Object(ae.a)({},e,{companies:[].concat(Object(ct.a)(e.companies),[t.payload])});default:return e}},_t=Object(ot.combineReducers)({companyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mt:return Object(ae.a)({},e,{locations:[].concat(Object(ct.a)(e.locations),[t.payload])});default:return e}},loginReducer:ut,jobReducer:dt,teamReducer:bt,teamMemberReducer:ft,customerReducer:yt,companiesReducer:jt}),Ot=Object(ot.createStore)(_t,Object(lt.composeWithDevTools)(Object(ot.applyMiddleware)(it.a)));l.a.render(r.a.createElement(i.a,{store:Ot},r.a.createElement(rt.a,null,r.a.createElement(nt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.52fd5444.chunk.js.map